<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .border {
            border: solid 1px black;
            padding: 15px;
            /* 내부 여백 추가 */
            border-radius: 5px;
            /* 모서리 둥글게 */
        }
    </style>
    <title>Document</title>
</head>

<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <div class="container text-center">
        <div class="row">

            <div class="col-lg-3 border">
                <input type="password" placeholder="아이디를 입력해주세요">
                <input type="password" placeholder="비밀번호를 입력해주세요">

            </div>
            <div class="col-lg-9 border mt-3">
                <input type="text" id="todolist" placeholder="todolist를 적어주세요">
                <button>저장</button>

            </div>
        </div>
        <div class="card-list">

        </div>
    </div>
    <script>
        const $todo = document.querySelector('#todolist');
        const $button = document.querySelector('button');
        const $cardList = document.querySelector('.card-list');

        const $$button = document.querySelector('.a');
        console.log($$button);
        const now = new Date();
        now.setHours(23);
        now.setMinutes(0);
        console.log(now); // 현재 날짜와 시간 출력

        //todolist 추가함수
        $button.addEventListener('click', () => addTodo($todo.value));

        function addTodo(list) {
            let cardlist = `
                <div class="row border">
                  <input type="text" class="col-9 todo-input" placeholder="todolist를 적어주세요"><button class='col-3'>삭제</button>
                  <button class="save-button">저장</button>
                  <div class="day-todo">
                    <div class="col-lg-12">${list} <input type="checkbox"></div>
                  </div>  
                </div>
                  
              `
            const cardElement = document.createElement('div');
            cardElement.innerHTML = cardlist;
            $cardList.appendChild(cardElement);

            const $todoInput = cardElement.querySelector('.todo-input');
            const $saveButton = cardElement.querySelector('.save-button');
            const $dayTodo = cardElement.querySelector('.day-todo');


            $saveButton.addEventListener('click', function(){ 
                const newTodo = $todoInput.value.trim();
                
                if(newTodo){
                    let dayTodo = `
                      <div class="col-lg-12">
                      ${newTodo}
                      <input type="checkbox">
                      <button id="delete">삭제</button> 
                      </div>
                    `
                    const todoElemenet = document.createElement('div');
                    todoElemenet.innerHTML = dayTodo;
                    $dayTodo.appendChild(todoElemenet);
                    $todoInput.value = '';


                    const $deleteButton = todoElemenet.querySelector('#delete').
                      addEventListener('click', function(){
                        $dayTodo.removeChild(todoElemenet);
                      })

                } else {
                    alert('todoList를 작성하고 누르시오');
                }
            })
        }


        


    </script>
    </div>
</body>

</html>